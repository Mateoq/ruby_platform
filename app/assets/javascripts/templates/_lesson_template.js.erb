prTemplates.directive('lessonTemplate', ['$window', '$document', '$timeout', function ($window, $document, $timeout) {
	return {
		templateUrl: '_lesson_template.html',
		transclude: true,
		restrict: 'E',
		scope: {
			options: '=options'
		},
		link: function (scope, element, attrs) {
			var $container = null;

			$timeout(function () {
				$container = element.find('.pr-lesson-content');
				resizePage();

				var $images = angular.element('.pr-images-info-images');
				console.log($images);

				$images.each(function(index, el) {
					$timeout(function () {
						angular.element(el).addClass('animated fadeIn');
					}, 800);
				});
			});

			angular.element($window).on('resize', function(event) {
                resizePage();
            });

			function resizePage () {
                var h = ($document[0].documentElement.clientHeight - 134) + 'px';
                var w = ($document[0].documentElement.clientWidth) + 'px';

                $container[0].style.height = h;
                $container[0].style.width = w;
            }
		}
	};
}]);