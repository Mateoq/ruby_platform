prTemplates.directive('contentCarousel', ['$timeout', function ($timeout) {
	return {
		templateUrl: '_content_carousel.html',
		transclude: true,
		restrict: 'E',
		scope: {
			carouselItems: '=carouselItems'
		},
		link: function (scope, element, attrs, ctrl, transclude) {

			$timeout(function () {

				// var $mainContent = angular.element('.ccar-item');

				// $newScope = scope.$parent.$parent;

	   //          transclude(scope.$parent.$parent, function(clone, scope) {
	   //          	console.log(clone);
				// 	$mainContent.empty();
				// 	$mainContent.append(clone);
				// });

				angular.element('#pr_partial_carousel').carousel({
					interval: false,
					wrap: false
				});

				var $carouselControl = angular.element('.ccar-control');

				$carouselControl.on('click', function(event) {
					var $self = angular.element(this);
					$self.addClass('rubberBand');
					setTimeout(function () {
						$self.removeClass('rubberBand');
					}, 700);
				});
			});
		}
	};
}])